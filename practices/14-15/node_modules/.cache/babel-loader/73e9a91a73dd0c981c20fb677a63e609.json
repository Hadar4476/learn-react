{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nconst initialState = {\n  shouldDisplay: false,\n  items: []\n};\n\nconst toogleCart = state => {\n  state.shouldDisplay = !state.shouldDisplay;\n};\n\nconst addProduct = (state, action) => {\n  const product = action.payload;\n  state.items.push(product);\n};\n\nconst increaseAmount = (state, action) => {\n  const productId = action.payload;\n  const productInCart = state.items.findIndex(i => i.id === productId);\n  state.items[productInCart].amount++;\n};\n\nconst decreaseAmount = (state, action) => {\n  const productId = action.payload;\n  const productInCart = state.items.findIndex(i => i.id === productId);\n  state.items[productInCart].amount--;\n\n  if (!state.items[productInCart].amount) {\n    state.items.splice(productInCart, 1);\n  }\n};\n\nconst cartSlice = createSlice({\n  name: \"cart\",\n  initialState,\n  reducer: {\n    toogleCart,\n    addProduct,\n    increaseAmount,\n    decreaseAmount\n  }\n});\nexport default cartSlice;","map":{"version":3,"names":["createSlice","initialState","shouldDisplay","items","toogleCart","state","addProduct","action","product","payload","push","increaseAmount","productId","productInCart","findIndex","i","id","amount","decreaseAmount","splice","cartSlice","name","reducer"],"sources":["C:/Users/Hadar/OneDrive/Desktop/Full Stack/React/Max - 2022/lesson-16-redux-advanced/redux-advanced/src/store/slices/cart.js"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\r\n\r\nconst initialState = {\r\n  shouldDisplay: false,\r\n  items: [],\r\n};\r\n\r\nconst toogleCart = (state) => {\r\n  state.shouldDisplay = !state.shouldDisplay;\r\n};\r\n\r\nconst addProduct = (state, action) => {\r\n  const product = action.payload;\r\n\r\n  state.items.push(product);\r\n};\r\n\r\nconst increaseAmount = (state, action) => {\r\n  const productId = action.payload;\r\n  const productInCart = state.items.findIndex((i) => i.id === productId);\r\n  state.items[productInCart].amount++;\r\n};\r\n\r\nconst decreaseAmount = (state, action) => {\r\n  const productId = action.payload;\r\n  const productInCart = state.items.findIndex((i) => i.id === productId);\r\n  state.items[productInCart].amount--;\r\n\r\n  if (!state.items[productInCart].amount) {\r\n    state.items.splice(productInCart, 1);\r\n  }\r\n};\r\n\r\nconst cartSlice = createSlice({\r\n  name: \"cart\",\r\n  initialState,\r\n  reducer: {\r\n    toogleCart,\r\n    addProduct,\r\n    increaseAmount,\r\n    decreaseAmount,\r\n  },\r\n});\r\n\r\nexport default cartSlice;\r\n"],"mappings":"AAAA,SAASA,WAAT,QAA4B,kBAA5B;AAEA,MAAMC,YAAY,GAAG;EACnBC,aAAa,EAAE,KADI;EAEnBC,KAAK,EAAE;AAFY,CAArB;;AAKA,MAAMC,UAAU,GAAIC,KAAD,IAAW;EAC5BA,KAAK,CAACH,aAAN,GAAsB,CAACG,KAAK,CAACH,aAA7B;AACD,CAFD;;AAIA,MAAMI,UAAU,GAAG,CAACD,KAAD,EAAQE,MAAR,KAAmB;EACpC,MAAMC,OAAO,GAAGD,MAAM,CAACE,OAAvB;EAEAJ,KAAK,CAACF,KAAN,CAAYO,IAAZ,CAAiBF,OAAjB;AACD,CAJD;;AAMA,MAAMG,cAAc,GAAG,CAACN,KAAD,EAAQE,MAAR,KAAmB;EACxC,MAAMK,SAAS,GAAGL,MAAM,CAACE,OAAzB;EACA,MAAMI,aAAa,GAAGR,KAAK,CAACF,KAAN,CAAYW,SAAZ,CAAuBC,CAAD,IAAOA,CAAC,CAACC,EAAF,KAASJ,SAAtC,CAAtB;EACAP,KAAK,CAACF,KAAN,CAAYU,aAAZ,EAA2BI,MAA3B;AACD,CAJD;;AAMA,MAAMC,cAAc,GAAG,CAACb,KAAD,EAAQE,MAAR,KAAmB;EACxC,MAAMK,SAAS,GAAGL,MAAM,CAACE,OAAzB;EACA,MAAMI,aAAa,GAAGR,KAAK,CAACF,KAAN,CAAYW,SAAZ,CAAuBC,CAAD,IAAOA,CAAC,CAACC,EAAF,KAASJ,SAAtC,CAAtB;EACAP,KAAK,CAACF,KAAN,CAAYU,aAAZ,EAA2BI,MAA3B;;EAEA,IAAI,CAACZ,KAAK,CAACF,KAAN,CAAYU,aAAZ,EAA2BI,MAAhC,EAAwC;IACtCZ,KAAK,CAACF,KAAN,CAAYgB,MAAZ,CAAmBN,aAAnB,EAAkC,CAAlC;EACD;AACF,CARD;;AAUA,MAAMO,SAAS,GAAGpB,WAAW,CAAC;EAC5BqB,IAAI,EAAE,MADsB;EAE5BpB,YAF4B;EAG5BqB,OAAO,EAAE;IACPlB,UADO;IAEPE,UAFO;IAGPK,cAHO;IAIPO;EAJO;AAHmB,CAAD,CAA7B;AAWA,eAAeE,SAAf"},"metadata":{},"sourceType":"module"}