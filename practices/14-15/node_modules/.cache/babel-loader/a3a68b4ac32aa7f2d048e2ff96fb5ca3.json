{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nconst initialState = {\n  shouldDisplay: false,\n  items: []\n};\n\nconst toogleCart = state => {\n  state.shouldDisplay = !state.shouldDisplay;\n};\n\nconst increaseAmount = (state, action) => {\n  const productId = action.payload;\n  const productInCart = state.items.findIndex(i => i.id === productId);\n  state.items[productInCart].amount++;\n};\n\nconst decreaseAmount = (state, action) => {\n  const productId = action.payload;\n  const productInCart = state.items.findIndex(i => i.id === productId);\n  state.items[productInCart].amount--;\n\n  if (!state.items[productInCart].amount) {\n    state.items.splice(productInCart, 1);\n  }\n};\n\nconst addProduct = (state, action) => {\n  const product = action.payload;\n  const productInCart = state.items.find(i => i.id === product.id);\n\n  if (productInCart) {\n    state.items[productInCart].amount++;\n  } else {\n    state.items.push(product);\n  }\n};\n\nconst cartSlice = createSlice({\n  name: \"cart\",\n  initialState,\n  reducers: {\n    toogleCart,\n    increaseAmount,\n    decreaseAmount,\n    addProduct\n  }\n});\nexport default cartSlice;","map":{"version":3,"names":["createSlice","initialState","shouldDisplay","items","toogleCart","state","increaseAmount","action","productId","payload","productInCart","findIndex","i","id","amount","decreaseAmount","splice","addProduct","product","find","push","cartSlice","name","reducers"],"sources":["C:/Users/Hadar/OneDrive/Desktop/Full Stack/React/Max - 2022/lesson-16-redux-advanced/redux-advanced/src/store/slices/cart.js"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\r\n\r\nconst initialState = {\r\n  shouldDisplay: false,\r\n  items: [],\r\n};\r\n\r\nconst toogleCart = (state) => {\r\n  state.shouldDisplay = !state.shouldDisplay;\r\n};\r\n\r\nconst increaseAmount = (state, action) => {\r\n  const productId = action.payload;\r\n  const productInCart = state.items.findIndex((i) => i.id === productId);\r\n  state.items[productInCart].amount++;\r\n};\r\n\r\nconst decreaseAmount = (state, action) => {\r\n  const productId = action.payload;\r\n  const productInCart = state.items.findIndex((i) => i.id === productId);\r\n  state.items[productInCart].amount--;\r\n\r\n  if (!state.items[productInCart].amount) {\r\n    state.items.splice(productInCart, 1);\r\n  }\r\n};\r\n\r\nconst addProduct = (state, action) => {\r\n  const product = action.payload;\r\n  const productInCart = state.items.find((i) => i.id === product.id);\r\n\r\n  if (productInCart) {\r\n    state.items[productInCart].amount++;\r\n  } else {\r\n    state.items.push(product);\r\n  }\r\n};\r\n\r\nconst cartSlice = createSlice({\r\n  name: \"cart\",\r\n  initialState,\r\n  reducers: {\r\n    toogleCart,\r\n    increaseAmount,\r\n    decreaseAmount,\r\n    addProduct,\r\n  },\r\n});\r\n\r\nexport default cartSlice;\r\n"],"mappings":"AAAA,SAASA,WAAT,QAA4B,kBAA5B;AAEA,MAAMC,YAAY,GAAG;EACnBC,aAAa,EAAE,KADI;EAEnBC,KAAK,EAAE;AAFY,CAArB;;AAKA,MAAMC,UAAU,GAAIC,KAAD,IAAW;EAC5BA,KAAK,CAACH,aAAN,GAAsB,CAACG,KAAK,CAACH,aAA7B;AACD,CAFD;;AAIA,MAAMI,cAAc,GAAG,CAACD,KAAD,EAAQE,MAAR,KAAmB;EACxC,MAAMC,SAAS,GAAGD,MAAM,CAACE,OAAzB;EACA,MAAMC,aAAa,GAAGL,KAAK,CAACF,KAAN,CAAYQ,SAAZ,CAAuBC,CAAD,IAAOA,CAAC,CAACC,EAAF,KAASL,SAAtC,CAAtB;EACAH,KAAK,CAACF,KAAN,CAAYO,aAAZ,EAA2BI,MAA3B;AACD,CAJD;;AAMA,MAAMC,cAAc,GAAG,CAACV,KAAD,EAAQE,MAAR,KAAmB;EACxC,MAAMC,SAAS,GAAGD,MAAM,CAACE,OAAzB;EACA,MAAMC,aAAa,GAAGL,KAAK,CAACF,KAAN,CAAYQ,SAAZ,CAAuBC,CAAD,IAAOA,CAAC,CAACC,EAAF,KAASL,SAAtC,CAAtB;EACAH,KAAK,CAACF,KAAN,CAAYO,aAAZ,EAA2BI,MAA3B;;EAEA,IAAI,CAACT,KAAK,CAACF,KAAN,CAAYO,aAAZ,EAA2BI,MAAhC,EAAwC;IACtCT,KAAK,CAACF,KAAN,CAAYa,MAAZ,CAAmBN,aAAnB,EAAkC,CAAlC;EACD;AACF,CARD;;AAUA,MAAMO,UAAU,GAAG,CAACZ,KAAD,EAAQE,MAAR,KAAmB;EACpC,MAAMW,OAAO,GAAGX,MAAM,CAACE,OAAvB;EACA,MAAMC,aAAa,GAAGL,KAAK,CAACF,KAAN,CAAYgB,IAAZ,CAAkBP,CAAD,IAAOA,CAAC,CAACC,EAAF,KAASK,OAAO,CAACL,EAAzC,CAAtB;;EAEA,IAAIH,aAAJ,EAAmB;IACjBL,KAAK,CAACF,KAAN,CAAYO,aAAZ,EAA2BI,MAA3B;EACD,CAFD,MAEO;IACLT,KAAK,CAACF,KAAN,CAAYiB,IAAZ,CAAiBF,OAAjB;EACD;AACF,CATD;;AAWA,MAAMG,SAAS,GAAGrB,WAAW,CAAC;EAC5BsB,IAAI,EAAE,MADsB;EAE5BrB,YAF4B;EAG5BsB,QAAQ,EAAE;IACRnB,UADQ;IAERE,cAFQ;IAGRS,cAHQ;IAIRE;EAJQ;AAHkB,CAAD,CAA7B;AAWA,eAAeI,SAAf"},"metadata":{},"sourceType":"module"}